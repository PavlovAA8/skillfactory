{% extends 'flatpages/default.html' %}
{% load socialaccount %}

{% block content %}
<div class="container mt-5" style="max-width: 400px;">
  <h2 class="mb-4">Подтверждение email</h2>

  {% if messages %}
  {% for message in messages %}
  <div class="alert alert-{{ message.tags }}">
    {{ message }}
  </div>
  {% endfor %}
  {% endif %}

  {% if form.errors %}
  <div class="alert alert-danger">
    Пожалуйста, исправьте ошибки ниже.
  </div>
  {% endif %}

  <form method="post" action="{% url 'confirm_code' %}">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="btn btn-primary w-100">Подтвердить</button>
  </form>

  <hr>

  <form method="post" action="{% url 'resend_code' %}">
    {% csrf_token %}
    <input type="hidden" name="email" value="{{ form.initial.email }}">
    <button type="submit" class="btn btn-outline-secondary w-100">Отправить код ещё раз</button>
  </form>

  <p class="mt-3 text-center">Вернуться: <a href="{% url 'account_login' %}">Вход</a> или <a
      href="{% url 'account_signup' %}">Регистрация</a></p>
</div>
{% endblock %}